import {
  __toESM,
  require_react
} from "./chunk-MYQCFY5U.js";

// node_modules/react-sticky-nav/index.esm.js
var import_react = __toESM(require_react());
var r = Object.assign || function(a) {
  for (var d, b = 1, c = arguments.length; b < c; b++) {
    d = arguments[b];
    for (var e in d)
      Object.prototype.hasOwnProperty.call(d, e) && (a[e] = d[e]);
  }
  return a;
};
function w(a, d) {
  var b = {}, c;
  for (c in a)
    Object.prototype.hasOwnProperty.call(a, c) && 0 > d.indexOf(c) && (b[c] = a[c]);
  if (null != a && "function" === typeof Object.getOwnPropertySymbols) {
    var e = 0;
    for (c = Object.getOwnPropertySymbols(a); e < c.length; e++)
      0 > d.indexOf(c[e]) && (b[c[e]] = a[c[e]]);
  }
  return b;
}
var x = { position: "sticky" };
function y() {
  for (var a = [], d = 0; d < arguments.length; d++)
    a[d] = arguments[d];
  var b = (0, import_react.useRef)(null);
  (0, import_react.useEffect)(function() {
    a.forEach(function(c) {
      c && ("function" === typeof c ? c(b.current) : c.current = b.current);
    });
  }, [a]);
  return b;
}
var A = (0, import_react.forwardRef)(function(a, d) {
  var b = a.children, c = a.disabled, e = a.render;
  a = w(a, ["children", "disabled", "render"]);
  var f = (0, import_react.useState)("unfixed"), t = f[0], n = f[1], p = (0, import_react.useRef)(0), u = (0, import_react.useRef)(0), g = (0, import_react.useState)(0);
  f = g[0];
  var z = g[1];
  g = (0, import_react.useRef)(null);
  var l = y(d, g), m = (0, import_react.useRef)(null), h = (0, import_react.useCallback)(function() {
    if (l.current && !c) {
      var a2 = window.pageYOffset;
      if (!(0 > a2)) {
        var b2 = l.current.classList, d2 = 0 < a2 - p.current ? "down" : "up", f2 = u.current + p.current - a2, g2 = l.current.getBoundingClientRect(), h2 = g2.height;
        g2 = g2.top;
        var k2 = "down" === d2 ? Math.max(f2, -h2) : Math.min(
          f2,
          0
        );
        u.current = k2;
        l.current.style.top = k2.toString();
        e && z(k2);
        "down" === d2 && !b2.contains("hidden") && f2 < -h2 && (n("hidden"), b2.remove("pinned", "unfixed"), b2.add("hidden"));
        "up" === d2 && !b2.contains("pinned") && f2 > -h2 && (n("pinned"), b2.remove("hidden", "unfixed"), b2.add("pinned"));
        !b2.contains("unfixed") && (0 < g2 || 0 === a2) && (n("unfixed"), b2.remove("hidden", "pinned"), b2.add("unfixed"));
        p.current = a2;
        m.current = null;
      }
    }
  }, [c, l, e]), k = (0, import_react.useCallback)(
    function() {
      m.current && window.cancelAnimationFrame(m.current);
      m.current = window.requestAnimationFrame(h);
    },
    [h]
  ), v = (0, import_react.useCallback)(function() {
    "undefined" !== typeof window && window.addEventListener("scroll", k);
  }, [k]), q = (0, import_react.useCallback)(function() {
    "undefined" !== typeof window && window.removeEventListener("scroll", k);
  }, [k]);
  (0, import_react.useEffect)(function() {
    c ? q() : v();
    return function() {
      return q();
    };
  }, [c, v, q]);
  (0, import_react.useEffect)(function() {
    c || h();
  }, [c, h]);
  return e ? e({ position: t, ref: l, top: f }) : (0, import_react.createElement)("nav", r({}, a, { ref: l, style: x }), "function" === typeof b ? b(t) : b);
});
var B = (0, import_react.memo)(A);
var index_esm_default = B;
export {
  index_esm_default as default,
  x as styles
};
//# sourceMappingURL=react-sticky-nav.js.map
